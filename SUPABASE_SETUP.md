# Supabase + Render Hybrid Setup

## Step 1: Create Supabase Project

1. Go to [supabase.com](https://supabase.com)
2. Click "Start your project"
3. Create new project:
   - **Name**: `pnw-alliance-manager`
   - **Database Password**: Generate strong password
   - **Region**: Choose closest to your users

## Step 2: Get Database URL

1. Go to **Settings** → **Database**
2. Copy the **Connection string**
3. Format: `postgresql://postgres:[password]@[host]:5432/postgres`

## Step 3: Configure Prisma for Supabase

The connection string will look like:
```
DATABASE_URL="postgresql://postgres.xxxxxxxxxxxx:[password]@aws-0-us-west-1.pooler.supabase.com:5432/postgres"
```

## Step 4: Environment Variables for Render

Add to your Render backend service:

```bash
# Supabase Database
DATABASE_URL=postgresql://postgres.xxxxxxxxxxxx:[password]@aws-0-us-west-1.pooler.supabase.com:5432/postgres

# Render Redis (still needed for sessions/cache)
REDIS_URL=[auto-generated by Render Redis service]

# Your other variables
JWT_SECRET=your_jwt_secret
DISCORD_CLIENT_ID=your_discord_id
DISCORD_CLIENT_SECRET=your_discord_secret
ENCRYPTION_KEY=your_32_char_key
```

## Benefits of This Setup

✅ **Free PostgreSQL** (500MB limit - plenty for alliance data)
✅ **Free Storage** (1GB for logs, backups, etc.)
✅ **Supabase Dashboard** (better than Render's DB interface)
✅ **Automatic Backups** (included with Supabase)
✅ **Real-time Features** (if needed later)
✅ **Built-in Auth** (optional, can replace Discord OAuth)

## Supabase Features You Get for FREE

- **Database**: PostgreSQL with 500MB storage
- **API**: Auto-generated REST API
- **Dashboard**: Better than Render's DB interface
- **Backups**: Point-in-time recovery
- **Monitoring**: Query performance, slow queries
- **Extensions**: Full PostgreSQL extensions support